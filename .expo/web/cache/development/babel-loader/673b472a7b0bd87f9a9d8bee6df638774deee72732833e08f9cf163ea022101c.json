{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport * as Speech from 'expo-speech';\nvar VoiceService = function () {\n  function VoiceService() {\n    _classCallCheck(this, VoiceService);\n    this.isSpeaking = false;\n    this.currentLanguage = 'hi';\n  }\n  return _createClass(VoiceService, [{\n    key: \"setLanguage\",\n    value: function setLanguage(lang) {\n      this.currentLanguage = lang;\n    }\n  }, {\n    key: \"speak\",\n    value: function () {\n      var _speak = _asyncToGenerator(function* (text, language) {\n        var _this = this;\n        var lang = language || this.currentLanguage;\n        if (this.isSpeaking) {\n          yield this.stop();\n        }\n        return new Promise(function (resolve, reject) {\n          _this.isSpeaking = true;\n          Speech.speak(text, {\n            language: lang === 'hi' ? 'hi-IN' : 'en-US',\n            pitch: 1.0,\n            rate: 0.9,\n            onDone: function onDone() {\n              _this.isSpeaking = false;\n              resolve();\n            },\n            onError: function onError(error) {\n              _this.isSpeaking = false;\n              reject(error);\n            },\n            onStopped: function onStopped() {\n              _this.isSpeaking = false;\n              resolve();\n            }\n          });\n        });\n      });\n      function speak(_x, _x2) {\n        return _speak.apply(this, arguments);\n      }\n      return speak;\n    }()\n  }, {\n    key: \"stop\",\n    value: function () {\n      var _stop = _asyncToGenerator(function* () {\n        if (this.isSpeaking) {\n          yield Speech.stop();\n          this.isSpeaking = false;\n        }\n      });\n      function stop() {\n        return _stop.apply(this, arguments);\n      }\n      return stop;\n    }()\n  }, {\n    key: \"getIsSpeaking\",\n    value: function getIsSpeaking() {\n      return this.isSpeaking;\n    }\n  }, {\n    key: \"speakCropSummary\",\n    value: function () {\n      var _speakCropSummary = _asyncToGenerator(function* (cropName, healthStatus, lastIrrigation, recommendation) {\n        var useHindi = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n        var text;\n        if (useHindi) {\n          text = `${cropName} की स्थिति ${healthStatus} है। \n        पिछली सिंचाई ${lastIrrigation} को हुई थी। \n        सलाह: ${recommendation}`;\n        } else {\n          text = `${cropName} health status is ${healthStatus}. \n        Last irrigation was on ${lastIrrigation}. \n        Recommendation: ${recommendation}`;\n        }\n        yield this.speak(text, useHindi ? 'hi' : 'en');\n      });\n      function speakCropSummary(_x3, _x4, _x5, _x6) {\n        return _speakCropSummary.apply(this, arguments);\n      }\n      return speakCropSummary;\n    }()\n  }, {\n    key: \"speakIrrigationRecommendation\",\n    value: function () {\n      var _speakIrrigationRecommendation = _asyncToGenerator(function* (cropName, waterAmount, reason, waterSaving) {\n        var useHindi = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n        var text;\n        if (useHindi) {\n          text = `${cropName} के लिए सिंचाई की सलाह। \n        ${waterAmount} लीटर पानी दें। \n        कारण: ${reason}। \n        इससे ${waterSaving} प्रतिशत पानी की बचत होगी।`;\n        } else {\n          text = `Irrigation recommendation for ${cropName}. \n        Give ${waterAmount} liters of water. \n        Reason: ${reason}. \n        This will save ${waterSaving} percent water.`;\n        }\n        yield this.speak(text, useHindi ? 'hi' : 'en');\n      });\n      function speakIrrigationRecommendation(_x7, _x8, _x9, _x0) {\n        return _speakIrrigationRecommendation.apply(this, arguments);\n      }\n      return speakIrrigationRecommendation;\n    }()\n  }, {\n    key: \"speakDiseaseInfo\",\n    value: function () {\n      var _speakDiseaseInfo = _asyncToGenerator(function* (diseaseName, cropName, status, treatment) {\n        var useHindi = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n        var text;\n        if (useHindi) {\n          text = `${cropName} में ${diseaseName} का पता चला है। \n        वर्तमान स्थिति: ${status}। \n        उपचार: ${treatment}`;\n        } else {\n          text = `${diseaseName} detected in ${cropName}. \n        Current status: ${status}. \n        Treatment: ${treatment}`;\n        }\n        yield this.speak(text, useHindi ? 'hi' : 'en');\n      });\n      function speakDiseaseInfo(_x1, _x10, _x11, _x12) {\n        return _speakDiseaseInfo.apply(this, arguments);\n      }\n      return speakDiseaseInfo;\n    }()\n  }]);\n}();\nexport var voiceService = new VoiceService();\nexport default voiceService;","map":{"version":3,"names":["Speech","VoiceService","_classCallCheck","isSpeaking","currentLanguage","_createClass","key","value","setLanguage","lang","_speak","_asyncToGenerator","text","language","_this","stop","Promise","resolve","reject","speak","pitch","rate","onDone","onError","error","onStopped","_x","_x2","apply","arguments","_stop","getIsSpeaking","_speakCropSummary","cropName","healthStatus","lastIrrigation","recommendation","useHindi","length","undefined","speakCropSummary","_x3","_x4","_x5","_x6","_speakIrrigationRecommendation","waterAmount","reason","waterSaving","speakIrrigationRecommendation","_x7","_x8","_x9","_x0","_speakDiseaseInfo","diseaseName","status","treatment","speakDiseaseInfo","_x1","_x10","_x11","_x12","voiceService"],"sources":["C:/Users/nachi.NACHIKET/Desktop/New folder (3)/src/services/voiceService.ts"],"sourcesContent":["import * as Speech from 'expo-speech';\r\n\r\nclass VoiceService {\r\n  private isSpeaking: boolean = false;\r\n  private currentLanguage: 'en' | 'hi' = 'hi';\r\n\r\n  setLanguage(lang: 'en' | 'hi') {\r\n    this.currentLanguage = lang;\r\n  }\r\n\r\n  async speak(text: string, language?: 'en' | 'hi'): Promise<void> {\r\n    const lang = language || this.currentLanguage;\r\n    \r\n    // Stop any ongoing speech\r\n    if (this.isSpeaking) {\r\n      await this.stop();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.isSpeaking = true;\r\n      \r\n      Speech.speak(text, {\r\n        language: lang === 'hi' ? 'hi-IN' : 'en-US',\r\n        pitch: 1.0,\r\n        rate: 0.9,\r\n        onDone: () => {\r\n          this.isSpeaking = false;\r\n          resolve();\r\n        },\r\n        onError: (error) => {\r\n          this.isSpeaking = false;\r\n          reject(error);\r\n        },\r\n        onStopped: () => {\r\n          this.isSpeaking = false;\r\n          resolve();\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  async stop(): Promise<void> {\r\n    if (this.isSpeaking) {\r\n      await Speech.stop();\r\n      this.isSpeaking = false;\r\n    }\r\n  }\r\n\r\n  getIsSpeaking(): boolean {\r\n    return this.isSpeaking;\r\n  }\r\n\r\n  // Speak crop summary\r\n  async speakCropSummary(\r\n    cropName: string,\r\n    healthStatus: string,\r\n    lastIrrigation: string,\r\n    recommendation: string,\r\n    useHindi: boolean = true\r\n  ): Promise<void> {\r\n    let text: string;\r\n    \r\n    if (useHindi) {\r\n      text = `${cropName} की स्थिति ${healthStatus} है। \r\n        पिछली सिंचाई ${lastIrrigation} को हुई थी। \r\n        सलाह: ${recommendation}`;\r\n    } else {\r\n      text = `${cropName} health status is ${healthStatus}. \r\n        Last irrigation was on ${lastIrrigation}. \r\n        Recommendation: ${recommendation}`;\r\n    }\r\n\r\n    await this.speak(text, useHindi ? 'hi' : 'en');\r\n  }\r\n\r\n  // Speak irrigation recommendation\r\n  async speakIrrigationRecommendation(\r\n    cropName: string,\r\n    waterAmount: number,\r\n    reason: string,\r\n    waterSaving: number,\r\n    useHindi: boolean = true\r\n  ): Promise<void> {\r\n    let text: string;\r\n    \r\n    if (useHindi) {\r\n      text = `${cropName} के लिए सिंचाई की सलाह। \r\n        ${waterAmount} लीटर पानी दें। \r\n        कारण: ${reason}। \r\n        इससे ${waterSaving} प्रतिशत पानी की बचत होगी।`;\r\n    } else {\r\n      text = `Irrigation recommendation for ${cropName}. \r\n        Give ${waterAmount} liters of water. \r\n        Reason: ${reason}. \r\n        This will save ${waterSaving} percent water.`;\r\n    }\r\n\r\n    await this.speak(text, useHindi ? 'hi' : 'en');\r\n  }\r\n\r\n  // Speak disease information\r\n  async speakDiseaseInfo(\r\n    diseaseName: string,\r\n    cropName: string,\r\n    status: string,\r\n    treatment: string,\r\n    useHindi: boolean = true\r\n  ): Promise<void> {\r\n    let text: string;\r\n    \r\n    if (useHindi) {\r\n      text = `${cropName} में ${diseaseName} का पता चला है। \r\n        वर्तमान स्थिति: ${status}। \r\n        उपचार: ${treatment}`;\r\n    } else {\r\n      text = `${diseaseName} detected in ${cropName}. \r\n        Current status: ${status}. \r\n        Treatment: ${treatment}`;\r\n    }\r\n\r\n    await this.speak(text, useHindi ? 'hi' : 'en');\r\n  }\r\n}\r\n\r\nexport const voiceService = new VoiceService();\r\nexport default voiceService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}