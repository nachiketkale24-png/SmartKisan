{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar intentPatterns = {\n  SHOW_SCHEMES: ['scheme dikhao', 'scheme batao', 'sarkari yojana', 'सरकारी योजना', 'योजना दिखाओ', 'government scheme', 'yojana dikhao', 'scheme show karo', 'schemes', 'yojana'],\n  SHOW_PRICES: ['bhav batao', 'bhav dikhao', 'mandi bhav', 'मंडी भाव', 'भाव बताओ', 'market price', 'sabzi mandi', 'aaj ka bhav', 'rate batao', 'price dikhao', 'prices'],\n  CHECK_ELIGIBILITY: ['eligible hoon kya', 'eligibility check', 'पात्र हूं क्या', 'eligibility batao', 'kya main eligible hoon', 'scheme ke liye eligible', 'patr hai kya', 'check karo eligible'],\n  CROP_PRICE: ['gehu ka bhav', 'chawal ka bhav', 'kapas ka bhav', 'pyaj ka bhav', 'tamatar ka bhav', 'गेहूं का भाव', 'चावल का भाव', 'कपास का भाव', 'प्याज का भाव', 'टमाटर का भाव', 'wheat price', 'rice price', 'cotton price', 'onion price', 'tomato price', 'ganna ka bhav'],\n  SHOW_DASHBOARD: ['dashboard dikhao', 'home jao', 'ghar jao', 'main screen', 'डैशबोर्ड'],\n  SHOW_IRRIGATION: ['sinchai dikhao', 'irrigation', 'paani', 'सिंचाई', 'water recommendation'],\n  SHOW_HEALTH: ['health dikhao', 'crop health', 'fasal health', 'rog dikhao', 'disease', 'फसल स्वास्थ्य'],\n  SHOW_ALERTS: ['alert dikhao', 'notification', 'alerts', 'chetavni', 'चेतावनी'],\n  UNKNOWN: []\n};\nvar cropNameMappings = {\n  'gehu': 'Wheat',\n  'gehun': 'Wheat',\n  'गेहूं': 'Wheat',\n  'wheat': 'Wheat',\n  'chawal': 'Rice',\n  'चावल': 'Rice',\n  'rice': 'Rice',\n  'kapas': 'Cotton',\n  'कपास': 'Cotton',\n  'cotton': 'Cotton',\n  'pyaj': 'Onion',\n  'pyaz': 'Onion',\n  'प्याज': 'Onion',\n  'onion': 'Onion',\n  'tamatar': 'Tomato',\n  'टमाटर': 'Tomato',\n  'tomato': 'Tomato',\n  'ganna': 'Sugarcane',\n  'गन्ना': 'Sugarcane',\n  'sugarcane': 'Sugarcane'\n};\nvar intentToRoute = {\n  SHOW_SCHEMES: 'GovernmentSchemes',\n  SHOW_PRICES: 'MarketPrices',\n  SHOW_DASHBOARD: 'MainTabs',\n  SHOW_IRRIGATION: 'Irrigation',\n  SHOW_HEALTH: 'HealthHome',\n  SHOW_ALERTS: 'Alerts'\n};\nvar normalizeText = function normalizeText(text) {\n  return text.toLowerCase().trim().replace(/[।,?!.]/g, '').replace(/\\s+/g, ' ');\n};\nvar extractCropName = function extractCropName(command) {\n  var normalized = normalizeText(command);\n  for (var _ref of Object.entries(cropNameMappings)) {\n    var _ref2 = _slicedToArray(_ref, 2);\n    var key = _ref2[0];\n    var value = _ref2[1];\n    if (normalized.includes(key.toLowerCase())) {\n      return value;\n    }\n  }\n  return undefined;\n};\nvar calculateSimilarity = function calculateSimilarity(str1, str2) {\n  var s1 = normalizeText(str1);\n  var s2 = normalizeText(str2);\n  if (s1 === s2) return 1.0;\n  if (s1.includes(s2) || s2.includes(s1)) return 0.8;\n  var words1 = s1.split(' ');\n  var words2 = s2.split(' ');\n  var commonWords = words1.filter(function (w) {\n    return words2.includes(w);\n  });\n  var overlap = commonWords.length / Math.max(words1.length, words2.length);\n  return overlap * 0.6;\n};\nexport var parseVoiceCommand = function parseVoiceCommand(command) {\n  var normalized = normalizeText(command);\n  var bestMatch = {\n    intent: 'UNKNOWN',\n    confidence: 0,\n    parameters: {}\n  };\n  for (var _ref3 of Object.entries(intentPatterns)) {\n    var _ref4 = _slicedToArray(_ref3, 2);\n    var intent = _ref4[0];\n    var patterns = _ref4[1];\n    for (var pattern of patterns) {\n      var similarity = calculateSimilarity(normalized, pattern);\n      if (similarity > bestMatch.confidence) {\n        bestMatch = {\n          intent: intent,\n          confidence: similarity,\n          parameters: {},\n          navigateTo: intentToRoute[intent]\n        };\n      }\n    }\n  }\n  if (bestMatch.intent === 'CROP_PRICE' || bestMatch.confidence > 0.3) {\n    var crop = extractCropName(command);\n    if (crop) {\n      bestMatch.parameters.crop = crop;\n      if (bestMatch.intent === 'UNKNOWN' || bestMatch.confidence < 0.5) {\n        bestMatch.intent = 'CROP_PRICE';\n        bestMatch.confidence = 0.7;\n        bestMatch.navigateTo = 'MarketPrices';\n      }\n    }\n  }\n  if (bestMatch.intent === 'CHECK_ELIGIBILITY') {\n    bestMatch.action = 'CHECK_ELIGIBILITY';\n    bestMatch.navigateTo = 'GovernmentSchemes';\n  }\n  return bestMatch;\n};\nexport var getIntentResponse = function getIntentResponse(result) {\n  var language = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'hi';\n  var responses = {\n    SHOW_SCHEMES: {\n      en: 'Opening Government Schemes page',\n      hi: 'सरकारी योजनाएं पेज खोल रहा हूं'\n    },\n    SHOW_PRICES: {\n      en: 'Opening Market Prices page',\n      hi: 'मंडी भाव पेज खोल रहा हूं'\n    },\n    CHECK_ELIGIBILITY: {\n      en: 'Opening eligibility checker',\n      hi: 'पात्रता जांच खोल रहा हूं'\n    },\n    CROP_PRICE: {\n      en: result.parameters.crop ? `Opening ${result.parameters.crop} prices` : 'Opening Market Prices',\n      hi: result.parameters.crop ? `${result.parameters.crop} के भाव खोल रहा हूं` : 'मंडी भाव खोल रहा हूं'\n    },\n    SHOW_DASHBOARD: {\n      en: 'Going to Dashboard',\n      hi: 'डैशबोर्ड पर जा रहा हूं'\n    },\n    SHOW_IRRIGATION: {\n      en: 'Opening Irrigation page',\n      hi: 'सिंचाई पेज खोल रहा हूं'\n    },\n    SHOW_HEALTH: {\n      en: 'Opening Crop Health page',\n      hi: 'फसल स्वास्थ्य पेज खोल रहा हूं'\n    },\n    SHOW_ALERTS: {\n      en: 'Opening Alerts',\n      hi: 'अलर्ट खोल रहा हूं'\n    },\n    UNKNOWN: {\n      en: 'Sorry, I did not understand. Please try again.',\n      hi: 'माफ़ कीजिए, मुझे समझ नहीं आया। कृपया फिर से बोलें।'\n    }\n  };\n  return responses[result.intent][language];\n};\nexport var processVoiceCommand = function processVoiceCommand(command) {\n  var result = parseVoiceCommand(command);\n  var response = getIntentResponse(result, 'hi');\n  var shouldNavigate = result.confidence >= 0.5 && result.navigateTo !== undefined;\n  return {\n    result: result,\n    response: response,\n    shouldNavigate: shouldNavigate\n  };\n};\nexport default {\n  parseVoiceCommand: parseVoiceCommand,\n  getIntentResponse: getIntentResponse,\n  processVoiceCommand: processVoiceCommand\n};","map":{"version":3,"names":["intentPatterns","SHOW_SCHEMES","SHOW_PRICES","CHECK_ELIGIBILITY","CROP_PRICE","SHOW_DASHBOARD","SHOW_IRRIGATION","SHOW_HEALTH","SHOW_ALERTS","UNKNOWN","cropNameMappings","intentToRoute","normalizeText","text","toLowerCase","trim","replace","extractCropName","command","normalized","_ref","Object","entries","_ref2","_slicedToArray","key","value","includes","undefined","calculateSimilarity","str1","str2","s1","s2","words1","split","words2","commonWords","filter","w","overlap","length","Math","max","parseVoiceCommand","bestMatch","intent","confidence","parameters","_ref3","_ref4","patterns","pattern","similarity","navigateTo","crop","action","getIntentResponse","result","language","arguments","responses","en","hi","processVoiceCommand","response","shouldNavigate"],"sources":["C:/Users/nachi.NACHIKET/Desktop/New folder (3)/src/services/intentRouter.ts"],"sourcesContent":["// Intent Router for Voice Commands\r\n// Handles Hindi/Hinglish voice commands and routes to appropriate actions\r\n\r\nexport type IntentType = \r\n  | 'SHOW_SCHEMES'\r\n  | 'SHOW_PRICES'\r\n  | 'CHECK_ELIGIBILITY'\r\n  | 'CROP_PRICE'\r\n  | 'SHOW_DASHBOARD'\r\n  | 'SHOW_IRRIGATION'\r\n  | 'SHOW_HEALTH'\r\n  | 'SHOW_ALERTS'\r\n  | 'UNKNOWN';\r\n\r\nexport interface IntentResult {\r\n  intent: IntentType;\r\n  confidence: number;\r\n  parameters: {\r\n    crop?: string;\r\n    schemeId?: string;\r\n  };\r\n  navigateTo?: string;\r\n  action?: string;\r\n}\r\n\r\n// Command patterns for intent matching\r\nconst intentPatterns: { [key in IntentType]: string[] } = {\r\n  SHOW_SCHEMES: [\r\n    'scheme dikhao',\r\n    'scheme batao',\r\n    'sarkari yojana',\r\n    'सरकारी योजना',\r\n    'योजना दिखाओ',\r\n    'government scheme',\r\n    'yojana dikhao',\r\n    'scheme show karo',\r\n    'schemes',\r\n    'yojana',\r\n  ],\r\n  SHOW_PRICES: [\r\n    'bhav batao',\r\n    'bhav dikhao',\r\n    'mandi bhav',\r\n    'मंडी भाव',\r\n    'भाव बताओ',\r\n    'market price',\r\n    'sabzi mandi',\r\n    'aaj ka bhav',\r\n    'rate batao',\r\n    'price dikhao',\r\n    'prices',\r\n  ],\r\n  CHECK_ELIGIBILITY: [\r\n    'eligible hoon kya',\r\n    'eligibility check',\r\n    'पात्र हूं क्या',\r\n    'eligibility batao',\r\n    'kya main eligible hoon',\r\n    'scheme ke liye eligible',\r\n    'patr hai kya',\r\n    'check karo eligible',\r\n  ],\r\n  CROP_PRICE: [\r\n    'gehu ka bhav',\r\n    'chawal ka bhav',\r\n    'kapas ka bhav',\r\n    'pyaj ka bhav',\r\n    'tamatar ka bhav',\r\n    'गेहूं का भाव',\r\n    'चावल का भाव',\r\n    'कपास का भाव',\r\n    'प्याज का भाव',\r\n    'टमाटर का भाव',\r\n    'wheat price',\r\n    'rice price',\r\n    'cotton price',\r\n    'onion price',\r\n    'tomato price',\r\n    'ganna ka bhav',\r\n  ],\r\n  SHOW_DASHBOARD: [\r\n    'dashboard dikhao',\r\n    'home jao',\r\n    'ghar jao',\r\n    'main screen',\r\n    'डैशबोर्ड',\r\n  ],\r\n  SHOW_IRRIGATION: [\r\n    'sinchai dikhao',\r\n    'irrigation',\r\n    'paani',\r\n    'सिंचाई',\r\n    'water recommendation',\r\n  ],\r\n  SHOW_HEALTH: [\r\n    'health dikhao',\r\n    'crop health',\r\n    'fasal health',\r\n    'rog dikhao',\r\n    'disease',\r\n    'फसल स्वास्थ्य',\r\n  ],\r\n  SHOW_ALERTS: [\r\n    'alert dikhao',\r\n    'notification',\r\n    'alerts',\r\n    'chetavni',\r\n    'चेतावनी',\r\n  ],\r\n  UNKNOWN: [],\r\n};\r\n\r\n// Crop name mappings\r\nconst cropNameMappings: { [key: string]: string } = {\r\n  'gehu': 'Wheat',\r\n  'gehun': 'Wheat',\r\n  'गेहूं': 'Wheat',\r\n  'wheat': 'Wheat',\r\n  'chawal': 'Rice',\r\n  'चावल': 'Rice',\r\n  'rice': 'Rice',\r\n  'kapas': 'Cotton',\r\n  'कपास': 'Cotton',\r\n  'cotton': 'Cotton',\r\n  'pyaj': 'Onion',\r\n  'pyaz': 'Onion',\r\n  'प्याज': 'Onion',\r\n  'onion': 'Onion',\r\n  'tamatar': 'Tomato',\r\n  'टमाटर': 'Tomato',\r\n  'tomato': 'Tomato',\r\n  'ganna': 'Sugarcane',\r\n  'गन्ना': 'Sugarcane',\r\n  'sugarcane': 'Sugarcane',\r\n};\r\n\r\n// Navigation route mappings\r\nconst intentToRoute: { [key in IntentType]?: string } = {\r\n  SHOW_SCHEMES: 'GovernmentSchemes',\r\n  SHOW_PRICES: 'MarketPrices',\r\n  SHOW_DASHBOARD: 'MainTabs',\r\n  SHOW_IRRIGATION: 'Irrigation',\r\n  SHOW_HEALTH: 'HealthHome',\r\n  SHOW_ALERTS: 'Alerts',\r\n};\r\n\r\n/**\r\n * Normalize text for comparison\r\n */\r\nconst normalizeText = (text: string): string => {\r\n  return text\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/[।,?!.]/g, '')\r\n    .replace(/\\s+/g, ' ');\r\n};\r\n\r\n/**\r\n * Extract crop name from command\r\n */\r\nconst extractCropName = (command: string): string | undefined => {\r\n  const normalized = normalizeText(command);\r\n  \r\n  for (const [key, value] of Object.entries(cropNameMappings)) {\r\n    if (normalized.includes(key.toLowerCase())) {\r\n      return value;\r\n    }\r\n  }\r\n  \r\n  return undefined;\r\n};\r\n\r\n/**\r\n * Calculate similarity between two strings\r\n */\r\nconst calculateSimilarity = (str1: string, str2: string): number => {\r\n  const s1 = normalizeText(str1);\r\n  const s2 = normalizeText(str2);\r\n  \r\n  // Exact match\r\n  if (s1 === s2) return 1.0;\r\n  \r\n  // Contains match\r\n  if (s1.includes(s2) || s2.includes(s1)) return 0.8;\r\n  \r\n  // Word overlap\r\n  const words1 = s1.split(' ');\r\n  const words2 = s2.split(' ');\r\n  const commonWords = words1.filter(w => words2.includes(w));\r\n  const overlap = commonWords.length / Math.max(words1.length, words2.length);\r\n  \r\n  return overlap * 0.6;\r\n};\r\n\r\n/**\r\n * Parse voice command and determine intent\r\n */\r\nexport const parseVoiceCommand = (command: string): IntentResult => {\r\n  const normalized = normalizeText(command);\r\n  let bestMatch: IntentResult = {\r\n    intent: 'UNKNOWN',\r\n    confidence: 0,\r\n    parameters: {},\r\n  };\r\n  \r\n  // Check each intent pattern\r\n  for (const [intent, patterns] of Object.entries(intentPatterns)) {\r\n    for (const pattern of patterns) {\r\n      const similarity = calculateSimilarity(normalized, pattern);\r\n      \r\n      if (similarity > bestMatch.confidence) {\r\n        bestMatch = {\r\n          intent: intent as IntentType,\r\n          confidence: similarity,\r\n          parameters: {},\r\n          navigateTo: intentToRoute[intent as IntentType],\r\n        };\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Extract crop name if relevant\r\n  if (bestMatch.intent === 'CROP_PRICE' || bestMatch.confidence > 0.3) {\r\n    const crop = extractCropName(command);\r\n    if (crop) {\r\n      bestMatch.parameters.crop = crop;\r\n      \r\n      // If crop found, likely a price query\r\n      if (bestMatch.intent === 'UNKNOWN' || bestMatch.confidence < 0.5) {\r\n        bestMatch.intent = 'CROP_PRICE';\r\n        bestMatch.confidence = 0.7;\r\n        bestMatch.navigateTo = 'MarketPrices';\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Set action for special intents\r\n  if (bestMatch.intent === 'CHECK_ELIGIBILITY') {\r\n    bestMatch.action = 'CHECK_ELIGIBILITY';\r\n    bestMatch.navigateTo = 'GovernmentSchemes';\r\n  }\r\n  \r\n  return bestMatch;\r\n};\r\n\r\n/**\r\n * Get response message for intent\r\n */\r\nexport const getIntentResponse = (result: IntentResult, language: 'en' | 'hi' = 'hi'): string => {\r\n  const responses: { [key in IntentType]: { en: string; hi: string } } = {\r\n    SHOW_SCHEMES: {\r\n      en: 'Opening Government Schemes page',\r\n      hi: 'सरकारी योजनाएं पेज खोल रहा हूं',\r\n    },\r\n    SHOW_PRICES: {\r\n      en: 'Opening Market Prices page',\r\n      hi: 'मंडी भाव पेज खोल रहा हूं',\r\n    },\r\n    CHECK_ELIGIBILITY: {\r\n      en: 'Opening eligibility checker',\r\n      hi: 'पात्रता जांच खोल रहा हूं',\r\n    },\r\n    CROP_PRICE: {\r\n      en: result.parameters.crop \r\n        ? `Opening ${result.parameters.crop} prices`\r\n        : 'Opening Market Prices',\r\n      hi: result.parameters.crop\r\n        ? `${result.parameters.crop} के भाव खोल रहा हूं`\r\n        : 'मंडी भाव खोल रहा हूं',\r\n    },\r\n    SHOW_DASHBOARD: {\r\n      en: 'Going to Dashboard',\r\n      hi: 'डैशबोर्ड पर जा रहा हूं',\r\n    },\r\n    SHOW_IRRIGATION: {\r\n      en: 'Opening Irrigation page',\r\n      hi: 'सिंचाई पेज खोल रहा हूं',\r\n    },\r\n    SHOW_HEALTH: {\r\n      en: 'Opening Crop Health page',\r\n      hi: 'फसल स्वास्थ्य पेज खोल रहा हूं',\r\n    },\r\n    SHOW_ALERTS: {\r\n      en: 'Opening Alerts',\r\n      hi: 'अलर्ट खोल रहा हूं',\r\n    },\r\n    UNKNOWN: {\r\n      en: 'Sorry, I did not understand. Please try again.',\r\n      hi: 'माफ़ कीजिए, मुझे समझ नहीं आया। कृपया फिर से बोलें।',\r\n    },\r\n  };\r\n  \r\n  return responses[result.intent][language];\r\n};\r\n\r\n/**\r\n * Process voice command and return navigation action\r\n */\r\nexport const processVoiceCommand = (command: string): {\r\n  result: IntentResult;\r\n  response: string;\r\n  shouldNavigate: boolean;\r\n} => {\r\n  const result = parseVoiceCommand(command);\r\n  const response = getIntentResponse(result, 'hi');\r\n  const shouldNavigate = result.confidence >= 0.5 && result.navigateTo !== undefined;\r\n  \r\n  return {\r\n    result,\r\n    response,\r\n    shouldNavigate,\r\n  };\r\n};\r\n\r\nexport default {\r\n  parseVoiceCommand,\r\n  getIntentResponse,\r\n  processVoiceCommand,\r\n};\r\n"],"mappings":";AA0BA,IAAMA,cAAiD,GAAG;EACxDC,YAAY,EAAE,CACZ,eAAe,EACf,cAAc,EACd,gBAAgB,EAChB,cAAc,EACd,aAAa,EACb,mBAAmB,EACnB,eAAe,EACf,kBAAkB,EAClB,SAAS,EACT,QAAQ,CACT;EACDC,WAAW,EAAE,CACX,YAAY,EACZ,aAAa,EACb,YAAY,EACZ,UAAU,EACV,UAAU,EACV,cAAc,EACd,aAAa,EACb,aAAa,EACb,YAAY,EACZ,cAAc,EACd,QAAQ,CACT;EACDC,iBAAiB,EAAE,CACjB,mBAAmB,EACnB,mBAAmB,EACnB,gBAAgB,EAChB,mBAAmB,EACnB,wBAAwB,EACxB,yBAAyB,EACzB,cAAc,EACd,qBAAqB,CACtB;EACDC,UAAU,EAAE,CACV,cAAc,EACd,gBAAgB,EAChB,eAAe,EACf,cAAc,EACd,iBAAiB,EACjB,cAAc,EACd,aAAa,EACb,aAAa,EACb,cAAc,EACd,cAAc,EACd,aAAa,EACb,YAAY,EACZ,cAAc,EACd,aAAa,EACb,cAAc,EACd,eAAe,CAChB;EACDC,cAAc,EAAE,CACd,kBAAkB,EAClB,UAAU,EACV,UAAU,EACV,aAAa,EACb,UAAU,CACX;EACDC,eAAe,EAAE,CACf,gBAAgB,EAChB,YAAY,EACZ,OAAO,EACP,QAAQ,EACR,sBAAsB,CACvB;EACDC,WAAW,EAAE,CACX,eAAe,EACf,aAAa,EACb,cAAc,EACd,YAAY,EACZ,SAAS,EACT,eAAe,CAChB;EACDC,WAAW,EAAE,CACX,cAAc,EACd,cAAc,EACd,QAAQ,EACR,UAAU,EACV,SAAS,CACV;EACDC,OAAO,EAAE;AACX,CAAC;AAGD,IAAMC,gBAA2C,GAAG;EAClD,MAAM,EAAE,OAAO;EACf,OAAO,EAAE,OAAO;EAChB,OAAO,EAAE,OAAO;EAChB,OAAO,EAAE,OAAO;EAChB,QAAQ,EAAE,MAAM;EAChB,MAAM,EAAE,MAAM;EACd,MAAM,EAAE,MAAM;EACd,OAAO,EAAE,QAAQ;EACjB,MAAM,EAAE,QAAQ;EAChB,QAAQ,EAAE,QAAQ;EAClB,MAAM,EAAE,OAAO;EACf,MAAM,EAAE,OAAO;EACf,OAAO,EAAE,OAAO;EAChB,OAAO,EAAE,OAAO;EAChB,SAAS,EAAE,QAAQ;EACnB,OAAO,EAAE,QAAQ;EACjB,QAAQ,EAAE,QAAQ;EAClB,OAAO,EAAE,WAAW;EACpB,OAAO,EAAE,WAAW;EACpB,WAAW,EAAE;AACf,CAAC;AAGD,IAAMC,aAA+C,GAAG;EACtDV,YAAY,EAAE,mBAAmB;EACjCC,WAAW,EAAE,cAAc;EAC3BG,cAAc,EAAE,UAAU;EAC1BC,eAAe,EAAE,YAAY;EAC7BC,WAAW,EAAE,YAAY;EACzBC,WAAW,EAAE;AACf,CAAC;AAKD,IAAMI,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,IAAY,EAAa;EAC9C,OAAOA,IAAI,CACRC,WAAW,CAAC,CAAC,CACbC,IAAI,CAAC,CAAC,CACNC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CACvBA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;AACzB,CAAC;AAKD,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,OAAe,EAAyB;EAC/D,IAAMC,UAAU,GAAGP,aAAa,CAACM,OAAO,CAAC;EAEzC,SAAAE,IAAA,IAA2BC,MAAM,CAACC,OAAO,CAACZ,gBAAgB,CAAC,EAAE;IAAA,IAAAa,KAAA,GAAAC,cAAA,CAAAJ,IAAA;IAAA,IAAjDK,GAAG,GAAAF,KAAA;IAAA,IAAEG,KAAK,GAAAH,KAAA;IACpB,IAAIJ,UAAU,CAACQ,QAAQ,CAACF,GAAG,CAACX,WAAW,CAAC,CAAC,CAAC,EAAE;MAC1C,OAAOY,KAAK;IACd;EACF;EAEA,OAAOE,SAAS;AAClB,CAAC;AAKD,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,IAAY,EAAEC,IAAY,EAAa;EAClE,IAAMC,EAAE,GAAGpB,aAAa,CAACkB,IAAI,CAAC;EAC9B,IAAMG,EAAE,GAAGrB,aAAa,CAACmB,IAAI,CAAC;EAG9B,IAAIC,EAAE,KAAKC,EAAE,EAAE,OAAO,GAAG;EAGzB,IAAID,EAAE,CAACL,QAAQ,CAACM,EAAE,CAAC,IAAIA,EAAE,CAACN,QAAQ,CAACK,EAAE,CAAC,EAAE,OAAO,GAAG;EAGlD,IAAME,MAAM,GAAGF,EAAE,CAACG,KAAK,CAAC,GAAG,CAAC;EAC5B,IAAMC,MAAM,GAAGH,EAAE,CAACE,KAAK,CAAC,GAAG,CAAC;EAC5B,IAAME,WAAW,GAAGH,MAAM,CAACI,MAAM,CAAC,UAAAC,CAAC;IAAA,OAAIH,MAAM,CAACT,QAAQ,CAACY,CAAC,CAAC;EAAA,EAAC;EAC1D,IAAMC,OAAO,GAAGH,WAAW,CAACI,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACT,MAAM,CAACO,MAAM,EAAEL,MAAM,CAACK,MAAM,CAAC;EAE3E,OAAOD,OAAO,GAAG,GAAG;AACtB,CAAC;AAKD,OAAO,IAAMI,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAI1B,OAAe,EAAmB;EAClE,IAAMC,UAAU,GAAGP,aAAa,CAACM,OAAO,CAAC;EACzC,IAAI2B,SAAuB,GAAG;IAC5BC,MAAM,EAAE,SAAS;IACjBC,UAAU,EAAE,CAAC;IACbC,UAAU,EAAE,CAAC;EACf,CAAC;EAGD,SAAAC,KAAA,IAAiC5B,MAAM,CAACC,OAAO,CAACtB,cAAc,CAAC,EAAE;IAAA,IAAAkD,KAAA,GAAA1B,cAAA,CAAAyB,KAAA;IAAA,IAArDH,MAAM,GAAAI,KAAA;IAAA,IAAEC,QAAQ,GAAAD,KAAA;IAC1B,KAAK,IAAME,OAAO,IAAID,QAAQ,EAAE;MAC9B,IAAME,UAAU,GAAGxB,mBAAmB,CAACV,UAAU,EAAEiC,OAAO,CAAC;MAE3D,IAAIC,UAAU,GAAGR,SAAS,CAACE,UAAU,EAAE;QACrCF,SAAS,GAAG;UACVC,MAAM,EAAEA,MAAoB;UAC5BC,UAAU,EAAEM,UAAU;UACtBL,UAAU,EAAE,CAAC,CAAC;UACdM,UAAU,EAAE3C,aAAa,CAACmC,MAAM;QAClC,CAAC;MACH;IACF;EACF;EAGA,IAAID,SAAS,CAACC,MAAM,KAAK,YAAY,IAAID,SAAS,CAACE,UAAU,GAAG,GAAG,EAAE;IACnE,IAAMQ,IAAI,GAAGtC,eAAe,CAACC,OAAO,CAAC;IACrC,IAAIqC,IAAI,EAAE;MACRV,SAAS,CAACG,UAAU,CAACO,IAAI,GAAGA,IAAI;MAGhC,IAAIV,SAAS,CAACC,MAAM,KAAK,SAAS,IAAID,SAAS,CAACE,UAAU,GAAG,GAAG,EAAE;QAChEF,SAAS,CAACC,MAAM,GAAG,YAAY;QAC/BD,SAAS,CAACE,UAAU,GAAG,GAAG;QAC1BF,SAAS,CAACS,UAAU,GAAG,cAAc;MACvC;IACF;EACF;EAGA,IAAIT,SAAS,CAACC,MAAM,KAAK,mBAAmB,EAAE;IAC5CD,SAAS,CAACW,MAAM,GAAG,mBAAmB;IACtCX,SAAS,CAACS,UAAU,GAAG,mBAAmB;EAC5C;EAEA,OAAOT,SAAS;AAClB,CAAC;AAKD,OAAO,IAAMY,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,MAAoB,EAA2C;EAAA,IAAzCC,QAAqB,GAAAC,SAAA,CAAAnB,MAAA,QAAAmB,SAAA,QAAAhC,SAAA,GAAAgC,SAAA,MAAG,IAAI;EAClF,IAAMC,SAA8D,GAAG;IACrE5D,YAAY,EAAE;MACZ6D,EAAE,EAAE,iCAAiC;MACrCC,EAAE,EAAE;IACN,CAAC;IACD7D,WAAW,EAAE;MACX4D,EAAE,EAAE,4BAA4B;MAChCC,EAAE,EAAE;IACN,CAAC;IACD5D,iBAAiB,EAAE;MACjB2D,EAAE,EAAE,6BAA6B;MACjCC,EAAE,EAAE;IACN,CAAC;IACD3D,UAAU,EAAE;MACV0D,EAAE,EAAEJ,MAAM,CAACV,UAAU,CAACO,IAAI,GACtB,WAAWG,MAAM,CAACV,UAAU,CAACO,IAAI,SAAS,GAC1C,uBAAuB;MAC3BQ,EAAE,EAAEL,MAAM,CAACV,UAAU,CAACO,IAAI,GACtB,GAAGG,MAAM,CAACV,UAAU,CAACO,IAAI,qBAAqB,GAC9C;IACN,CAAC;IACDlD,cAAc,EAAE;MACdyD,EAAE,EAAE,oBAAoB;MACxBC,EAAE,EAAE;IACN,CAAC;IACDzD,eAAe,EAAE;MACfwD,EAAE,EAAE,yBAAyB;MAC7BC,EAAE,EAAE;IACN,CAAC;IACDxD,WAAW,EAAE;MACXuD,EAAE,EAAE,0BAA0B;MAC9BC,EAAE,EAAE;IACN,CAAC;IACDvD,WAAW,EAAE;MACXsD,EAAE,EAAE,gBAAgB;MACpBC,EAAE,EAAE;IACN,CAAC;IACDtD,OAAO,EAAE;MACPqD,EAAE,EAAE,gDAAgD;MACpDC,EAAE,EAAE;IACN;EACF,CAAC;EAED,OAAOF,SAAS,CAACH,MAAM,CAACZ,MAAM,CAAC,CAACa,QAAQ,CAAC;AAC3C,CAAC;AAKD,OAAO,IAAMK,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAI9C,OAAe,EAI9C;EACH,IAAMwC,MAAM,GAAGd,iBAAiB,CAAC1B,OAAO,CAAC;EACzC,IAAM+C,QAAQ,GAAGR,iBAAiB,CAACC,MAAM,EAAE,IAAI,CAAC;EAChD,IAAMQ,cAAc,GAAGR,MAAM,CAACX,UAAU,IAAI,GAAG,IAAIW,MAAM,CAACJ,UAAU,KAAK1B,SAAS;EAElF,OAAO;IACL8B,MAAM,EAANA,MAAM;IACNO,QAAQ,EAARA,QAAQ;IACRC,cAAc,EAAdA;EACF,CAAC;AACH,CAAC;AAED,eAAe;EACbtB,iBAAiB,EAAjBA,iBAAiB;EACjBa,iBAAiB,EAAjBA,iBAAiB;EACjBO,mBAAmB,EAAnBA;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}